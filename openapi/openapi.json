{"openapi":"3.1.0","info":{"title":"mbs4-server","description":"","license":{"name":"MIT","identifier":"MIT"},"version":"0.1.0"},"paths":{"/api/author":{"get":{"tags":["Author"],"operationId":"listAuthor","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"sort","in":"query","required":false,"schema":{"type":"string"}},{"name":"filter","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"List paginated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Page_AuthorShort"}}}}}},"post":{"tags":["Author"],"operationId":"createAuthor","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAuthor"}}},"required":true},"responses":{"201":{"description":"Created Author","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}}}}},"/api/author/all":{"get":{"tags":["Author"],"operationId":"listAllAuthor","responses":{"200":{"description":"List all (unpaginated, sorted by id, max limit applies)","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AuthorShort"}}}}}}}},"/api/author/count":{"get":{"tags":["Author"],"operationId":"countAuthor","responses":{"200":{"description":"Count","content":{"text/plain":{"schema":{"type":"integer","format":"int64","minimum":0}}}}}}},"/api/author/{id}":{"get":{"tags":["Author"],"operationId":"getAuthor","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Get one","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}}}},"put":{"tags":["Author"],"operationId":"updateAuthor","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAuthor"}}},"required":true},"responses":{"200":{"description":"Updated Author","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}}}},"delete":{"tags":["Author"],"operationId":"deleteAuthor","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{}}},"/api/author/{id}/ebooks":{"get":{"tags":["Author"],"operationId":"listAuthorEbook","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"sort","in":"query","required":false,"schema":{"type":"string"}},{"name":"filter","in":"query","required":false,"schema":{"type":"string"}},{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"List of Author Ebooks paginated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Page_EbookShort"}}}}}}},"/api/author/{id}/merge":{"put":{"tags":["Author"],"operationId":"mergeAuthor","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorMergeRequest"}}},"required":true},"responses":{"200":{"description":"Merge author to other author"}}}},"/api/conversion":{"get":{"tags":["Conversion"],"operationId":"listConversion","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"sort","in":"query","required":false,"schema":{"type":"string"}},{"name":"filter","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"List paginated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Page_ConversionShort"}}}}}}},"/api/conversion/all":{"get":{"tags":["Conversion"],"operationId":"listAllConversion","responses":{"200":{"description":"List all (unpaginated, sorted by id, max limit applies)","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ConversionShort"}}}}}}}},"/api/conversion/count":{"get":{"tags":["Conversion"],"operationId":"countConversion","responses":{"200":{"description":"Count","content":{"text/plain":{"schema":{"type":"integer","format":"int64","minimum":0}}}}}}},"/api/conversion/{id}":{"get":{"tags":["Conversion"],"operationId":"getConversion","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Get one","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Conversion"}}}}}},"delete":{"tags":["Conversion"],"operationId":"deleteConversion","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{}}},"/api/convert/convert":{"post":{"tags":["Convert"],"operationId":"convert_source","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConversionRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationTicket"}}}}}}},"/api/convert/extract_meta":{"post":{"tags":["Convert"],"operationId":"extract_meta","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadInfo"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationTicket"}}}}}}},"/api/ebook":{"get":{"tags":["Ebook"],"operationId":"listEbook","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"sort","in":"query","required":false,"schema":{"type":"string"}},{"name":"filter","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"List paginated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Page_EbookShort"}}}}}},"post":{"tags":["Ebook"],"operationId":"createEbook","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEbook"}}},"required":true},"responses":{"201":{"description":"Created Ebook","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ebook"}}}}}}},"/api/ebook/all":{"get":{"tags":["Ebook"],"operationId":"listAllEbook","responses":{"200":{"description":"List all (unpaginated, sorted by id, max limit applies)","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EbookShort"}}}}}}}},"/api/ebook/count":{"get":{"tags":["Ebook"],"operationId":"countEbook","responses":{"200":{"description":"Count","content":{"text/plain":{"schema":{"type":"integer","format":"int64","minimum":0}}}}}}},"/api/ebook/{id}":{"get":{"tags":["Ebook"],"operationId":"getEbook","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Get one","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ebook"}}}}}},"put":{"tags":["Ebook"],"operationId":"updateEbook","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEbook"}}},"required":true},"responses":{"200":{"description":"Updated Ebook","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ebook"}}}}}},"delete":{"tags":["Ebook"],"operationId":"deleteEbook","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{}}},"/api/ebook/{id}/conversion":{"get":{"tags":["Ebook"],"operationId":"listEbookConversions","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"List Ebook Conversions","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EbookConversion"}}}}}}}},"/api/ebook/{id}/cover":{"put":{"tags":["Ebook"],"operationId":"updateEbookCover","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EbookCoverInfo"}}},"required":true},"responses":{"200":{"description":"Updated Ebook Cover","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ebook"}}}}}}},"/api/ebook/{id}/merge":{"put":{"tags":["Ebook"],"operationId":"mergeEbook","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EbookMergeRequest"}}},"required":true},"responses":{"200":{"description":"Merge ebook to other ebook"}}}},"/api/ebook/{id}/source":{"get":{"tags":["Ebook"],"operationId":"listEbookSources","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"List Ebook Sources","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EbookSource"}}}}}}},"post":{"tags":["Ebook"],"operationId":"createEbookSource","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EbookFileInfo"}}},"required":true},"responses":{"201":{"description":"Created Ebook Source","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Source"}}}}}}},"/api/format":{"get":{"tags":["Format"],"operationId":"listFormat","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"sort","in":"query","required":false,"schema":{"type":"string"}},{"name":"filter","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"List paginated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Page_FormatShort"}}}}}},"post":{"tags":["Format"],"operationId":"createFormat","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFormat"}}},"required":true},"responses":{"201":{"description":"Created Format","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Format"}}}}}}},"/api/format/all":{"get":{"tags":["Format"],"operationId":"listAllFormat","responses":{"200":{"description":"List all (unpaginated, sorted by id, max limit applies)","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FormatShort"}}}}}}}},"/api/format/count":{"get":{"tags":["Format"],"operationId":"countFormat","responses":{"200":{"description":"Count","content":{"text/plain":{"schema":{"type":"integer","format":"int64","minimum":0}}}}}}},"/api/format/{id}":{"get":{"tags":["Format"],"operationId":"getFormat","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Get one","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Format"}}}}}},"put":{"tags":["Format"],"operationId":"updateFormat","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFormat"}}},"required":true},"responses":{"200":{"description":"Updated Format","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Format"}}}}}},"delete":{"tags":["Format"],"operationId":"deleteFormat","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{}}},"/api/genre":{"get":{"tags":["Genre"],"operationId":"listGenre","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"sort","in":"query","required":false,"schema":{"type":"string"}},{"name":"filter","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"List paginated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Page_GenreShort"}}}}}},"post":{"tags":["Genre"],"operationId":"createGenre","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateGenre"}}},"required":true},"responses":{"201":{"description":"Created Genre","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Genre"}}}}}}},"/api/genre/all":{"get":{"tags":["Genre"],"operationId":"listAllGenre","responses":{"200":{"description":"List all (unpaginated, sorted by id, max limit applies)","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GenreShort"}}}}}}}},"/api/genre/count":{"get":{"tags":["Genre"],"operationId":"countGenre","responses":{"200":{"description":"Count","content":{"text/plain":{"schema":{"type":"integer","format":"int64","minimum":0}}}}}}},"/api/genre/{id}":{"get":{"tags":["Genre"],"operationId":"getGenre","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Get one","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Genre"}}}}}},"put":{"tags":["Genre"],"operationId":"updateGenre","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateGenre"}}},"required":true},"responses":{"200":{"description":"Updated Genre","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Genre"}}}}}},"delete":{"tags":["Genre"],"operationId":"deleteGenre","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{}}},"/api/language":{"get":{"tags":["Language"],"operationId":"listLanguage","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"sort","in":"query","required":false,"schema":{"type":"string"}},{"name":"filter","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"List paginated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Page_LanguageShort"}}}}}},"post":{"tags":["Language"],"operationId":"createLanguage","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateLanguage"}}},"required":true},"responses":{"201":{"description":"Created Language","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Language"}}}}}}},"/api/language/all":{"get":{"tags":["Language"],"operationId":"listAllLanguage","responses":{"200":{"description":"List all (unpaginated, sorted by id, max limit applies)","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LanguageShort"}}}}}}}},"/api/language/count":{"get":{"tags":["Language"],"operationId":"countLanguage","responses":{"200":{"description":"Count","content":{"text/plain":{"schema":{"type":"integer","format":"int64","minimum":0}}}}}}},"/api/language/{id}":{"get":{"tags":["Language"],"operationId":"getLanguage","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Get one","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Language"}}}}}},"put":{"tags":["Language"],"operationId":"updateLanguage","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateLanguage"}}},"required":true},"responses":{"200":{"description":"Updated Language","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Language"}}}}}},"delete":{"tags":["Language"],"operationId":"deleteLanguage","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{}}},"/api/series":{"get":{"tags":["Series"],"operationId":"listSeries","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"sort","in":"query","required":false,"schema":{"type":"string"}},{"name":"filter","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"List paginated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Page_SeriesShort"}}}}}},"post":{"tags":["Series"],"operationId":"createSeries","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSeries"}}},"required":true},"responses":{"201":{"description":"Created Series","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Series"}}}}}}},"/api/series/all":{"get":{"tags":["Series"],"operationId":"listAllSeries","responses":{"200":{"description":"List all (unpaginated, sorted by id, max limit applies)","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SeriesShort"}}}}}}}},"/api/series/count":{"get":{"tags":["Series"],"operationId":"countSeries","responses":{"200":{"description":"Count","content":{"text/plain":{"schema":{"type":"integer","format":"int64","minimum":0}}}}}}},"/api/series/{id}":{"get":{"tags":["Series"],"operationId":"getSeries","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Get one","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Series"}}}}}},"put":{"tags":["Series"],"operationId":"updateSeries","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSeries"}}},"required":true},"responses":{"200":{"description":"Updated Series","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Series"}}}}}},"delete":{"tags":["Series"],"operationId":"deleteSeries","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{}}},"/api/series/{id}/ebooks":{"get":{"tags":["Series"],"operationId":"listSeriesEbook","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"sort","in":"query","required":false,"schema":{"type":"string"}},{"name":"filter","in":"query","required":false,"schema":{"type":"string"}},{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"List of Series Ebooks paginated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Page_EbookShort"}}}}}}},"/api/series/{id}/merge":{"put":{"tags":["Series"],"operationId":"mergeSeries","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SeriesMergeRequest"}}},"required":true},"responses":{"200":{"description":"Merge series to other series"}}}},"/api/source":{"get":{"tags":["Source"],"operationId":"listSource","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","format":"int32","minimum":0}},{"name":"sort","in":"query","required":false,"schema":{"type":"string"}},{"name":"filter","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"List paginated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Page_SourceShort"}}}}}},"post":{"tags":["Source"],"operationId":"createSource","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSource"}}},"required":true},"responses":{"201":{"description":"Created Source","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Source"}}}}}}},"/api/source/all":{"get":{"tags":["Source"],"operationId":"listAllSource","responses":{"200":{"description":"List all (unpaginated, sorted by id, max limit applies)","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SourceShort"}}}}}}}},"/api/source/count":{"get":{"tags":["Source"],"operationId":"countSource","responses":{"200":{"description":"Count","content":{"text/plain":{"schema":{"type":"integer","format":"int64","minimum":0}}}}}}},"/api/source/{id}":{"get":{"tags":["Source"],"operationId":"getSource","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Get one","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Source"}}}}}},"put":{"tags":["Source"],"operationId":"updateSource","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSource"}}},"required":true},"responses":{"200":{"description":"Updated Source","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Source"}}}}}},"delete":{"tags":["Source"],"operationId":"deleteSourceWithFile","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{}}},"/auth/login":{"post":{"tags":["auth"],"operationId":"loginLocally","parameters":[{"name":"redirect","in":"query","required":false,"schema":{"type":"string"}},{"name":"token","in":"query","required":false,"schema":{"type":"boolean"}}],"requestBody":{"description":"User credentials","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginCredentials"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/LoginCredentials"}}},"required":true},"responses":{"200":{"description":"Success","content":{"text/plain":{}}},"303":{"description":"Success andRedirect"}}}},"/files/download/conversion/{path}":{"get":{"tags":["File Store"],"description":"Download converted file","operationId":"downloadConversion","parameters":[{"name":"path","in":"path","description":"Path to file","required":true,"schema":{"type":"string"}}],"responses":{}}},"/files/download/uploaded/{path}":{"get":{"tags":["File Store"],"description":"Download recently uploaded file (for advanced uploads processing)","operationId":"downloadUploaded","parameters":[{"name":"path","in":"path","description":"Path to file","required":true,"schema":{"type":"string"}}],"responses":{}}},"/files/download/{path}":{"get":{"tags":["File Store"],"operationId":"download","parameters":[{"name":"path","in":"path","description":"Path to file","required":true,"schema":{"type":"string"}}],"responses":{}}},"/files/icon/{id}":{"get":{"tags":["File Store"],"description":"Download ebook cover icon","operationId":"downloadIcon","parameters":[{"name":"id","in":"path","description":"Ebook id","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"icon image","content":{"image/png":{}}}}}},"/files/move/upload":{"post":{"tags":["File Store"],"operationId":"moveUpload","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RenameBody"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RenameResult"}}}}}}},"/files/upload/direct":{"post":{"tags":["File Store"],"operationId":"uploadDirect","requestBody":{"description":"File data of supported mime types","content":{"*/*":{"schema":{"type":"array","items":{"type":"integer","format":"int32","minimum":0}}},"text/plain":{"schema":{"type":"string"},"example":"This is just test sample for swagger"}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadInfo"}}}}}}},"/files/upload/form":{"post":{"tags":["File Store"],"operationId":"uploadForm","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/UploadForm"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadInfo"}}}}}}},"/files/uploaded/{path}":{"delete":{"tags":["File Store"],"description":"Delete recently uploaded file (for advanced uploads processing)","operationId":"deleteUploaded","parameters":[{"name":"path","in":"path","description":"Path to file","required":true,"schema":{"type":"string"}}],"responses":{}}},"/search":{"get":{"tags":["Search"],"operationId":"search","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string"}},{"name":"what","in":"query","required":false,"schema":{"type":"string"}},{"name":"num_results","in":"query","required":false,"schema":{"type":"integer","minimum":0}}],"responses":{"200":{"description":"Search","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SearchItem"}}}}}}}},"/users":{"get":{"tags":["Users"],"operationId":"listUsers","responses":{"200":{"description":"List Users","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}}},"post":{"tags":["Users"],"operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUser"}}},"required":true},"responses":{"201":{"description":"Create new User","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/users/{id}":{"delete":{"tags":["Users"],"operationId":"deleteUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Deleted successfully"}}}}},"components":{"schemas":{"Author":{"type":"object","required":["id","last_name","version","created","modified"],"properties":{"id":{"type":"integer","format":"int64"},"last_name":{"type":"string"},"first_name":{"type":["string","null"]},"description":{"type":["string","null"]},"version":{"type":"integer","format":"int64"},"created_by":{"type":["string","null"]},"created":{"type":"string","format":"date-time"},"modified":{"type":"string","format":"date-time"}}},"AuthorMergeRequest":{"type":"object","required":["author_id"],"properties":{"author_id":{"type":"integer","format":"int64"}}},"AuthorShort":{"type":"object","required":["id","last_name"],"properties":{"id":{"type":"integer","format":"int64"},"last_name":{"type":"string"},"first_name":{"type":["string","null"]}}},"AuthorSummary":{"type":"object","required":["id","name"],"properties":{"id":{"type":"integer","format":"int64","minimum":0},"name":{"type":"string"}}},"Conversion":{"type":"object","required":["id","location","source_id","format_id","created"],"properties":{"id":{"type":"integer","format":"int64"},"location":{"type":"string"},"source_id":{"type":"integer","format":"int64"},"format_id":{"type":"integer","format":"int64"},"batch_id":{"type":["integer","null"],"format":"int64"},"created_by":{"type":["string","null"]},"created":{"type":"string","format":"date-time"}}},"ConversionRequest":{"type":"object","required":["source_id","to_format_extension"],"properties":{"source_id":{"type":"integer","format":"int64"},"to_format_extension":{"type":"string"}}},"ConversionShort":{"type":"object","required":["id","location","source_id","format_id"],"properties":{"id":{"type":"integer","format":"int64"},"location":{"type":"string"},"source_id":{"type":"integer","format":"int64"},"format_id":{"type":"integer","format":"int64"},"batch_id":{"type":["integer","null"],"format":"int64"}}},"CreateAuthor":{"type":"object","required":["last_name"],"properties":{"last_name":{"type":"string"},"first_name":{"type":["string","null"]},"description":{"type":["string","null"]},"created_by":{"type":["string","null"]}}},"CreateEbook":{"type":"object","required":["title","language_id"],"properties":{"title":{"type":"string"},"description":{"type":["string","null"]},"series_id":{"type":["integer","null"],"format":"int64"},"series_index":{"type":["integer","null"],"format":"int32","minimum":0},"language_id":{"type":"integer","format":"int64"},"authors":{"type":["array","null"],"items":{"type":"integer","format":"int64"}},"genres":{"type":["array","null"],"items":{"type":"integer","format":"int64"}},"created_by":{"type":["string","null"]}}},"CreateFormat":{"type":"object","required":["name","mime_type","extension"],"properties":{"name":{"type":"string"},"mime_type":{"type":"string"},"extension":{"type":"string"}}},"CreateGenre":{"type":"object","required":["name"],"properties":{"name":{"type":"string"}}},"CreateLanguage":{"type":"object","required":["name","code"],"properties":{"name":{"type":"string"},"code":{"type":"string"}}},"CreateSeries":{"type":"object","required":["title"],"properties":{"title":{"type":"string"},"description":{"type":["string","null"]},"created_by":{"type":["string","null"]}}},"CreateSource":{"type":"object","required":["location","ebook_id","format_id","size","hash"],"properties":{"location":{"type":"string"},"ebook_id":{"type":"integer","format":"int64"},"format_id":{"type":"integer","format":"int64"},"size":{"type":"integer","format":"int64"},"hash":{"type":"string"},"quality":{"type":["number","null"],"format":"float"},"created_by":{"type":["string","null"]}}},"CreateUser":{"type":"object","required":["email","name"],"properties":{"email":{"type":"string"},"name":{"type":"string"},"password":{"type":["string","null"]},"roles":{"type":["array","null"],"items":{"type":"string"}}}},"Ebook":{"type":"object","required":["id","title","base_dir","language","version","created","modified"],"properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":["string","null"]},"cover":{"type":["string","null"]},"base_dir":{"type":"string"},"series":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SeriesShort"}]},"series_index":{"type":["integer","null"],"format":"int32","minimum":0},"language":{"$ref":"#/components/schemas/LanguageShort"},"authors":{"type":["array","null"],"items":{"$ref":"#/components/schemas/AuthorShort"}},"genres":{"type":["array","null"],"items":{"$ref":"#/components/schemas/GenreShort"}},"rating":{"type":["number","null"],"format":"float"},"rating_count":{"type":["integer","null"],"format":"int32","minimum":0},"version":{"type":"integer","format":"int64"},"created_by":{"type":["string","null"]},"created":{"type":"string","format":"date-time"},"modified":{"type":"string","format":"date-time"}}},"EbookConversion":{"type":"object","required":["id","location","source_id","ebook_id","source_format_name","source_format_extension","format_name","format_extension","created"],"properties":{"id":{"type":"integer","format":"int64"},"location":{"type":"string"},"source_id":{"type":"integer","format":"int64"},"ebook_id":{"type":"integer","format":"int64"},"batch_id":{"type":["integer","null"],"format":"int64"},"source_format_name":{"type":"string"},"source_format_extension":{"type":"string"},"format_name":{"type":"string"},"format_extension":{"type":"string"},"created_by":{"type":["string","null"]},"created":{"type":"string","format":"date-time"}}},"EbookCoverInfo":{"type":"object","required":["ebook_id","ebook_version"],"properties":{"cover_file":{"type":["string","null"]},"ebook_id":{"type":"integer","format":"int64"},"ebook_version":{"type":"integer","format":"int64"}}},"EbookDoc":{"type":"object","required":["title","series","series_index","authors","id"],"properties":{"title":{"type":"string"},"series":{"type":"string"},"series_index":{"type":"string"},"series_id":{"type":["integer","null"],"format":"int64"},"authors":{"type":"array","items":{"$ref":"#/components/schemas/AuthorSummary"}},"id":{"type":"integer","format":"int64"}}},"EbookFileInfo":{"type":"object","required":["uploaded_file","size","hash"],"properties":{"uploaded_file":{"type":"string"},"size":{"type":"integer","format":"int64","minimum":0},"hash":{"type":"string"},"quality":{"type":["number","null"],"format":"float"}}},"EbookMergeRequest":{"type":"object","required":["ebook_id"],"properties":{"ebook_id":{"type":"integer","format":"int64"}}},"EbookShort":{"type":"object","required":["id","title","has_cover","language"],"properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"has_cover":{"type":"boolean"},"series":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SeriesShort"}]},"series_index":{"type":["integer","null"],"format":"int32","minimum":0},"language":{"$ref":"#/components/schemas/LanguageShort"},"authors":{"type":["array","null"],"items":{"$ref":"#/components/schemas/AuthorShort"}},"rating":{"type":["number","null"],"format":"float"}}},"EbookSource":{"type":"object","required":["id","location","format_name","format_extension","size","created"],"properties":{"id":{"type":"integer","format":"int64"},"location":{"type":"string"},"format_name":{"type":"string"},"format_extension":{"type":"string"},"size":{"type":"integer","format":"int64"},"quality":{"type":["number","null"],"format":"float"},"created_by":{"type":["string","null"]},"created":{"type":"string","format":"date-time"}}},"Format":{"type":"object","required":["id","name","mime_type","extension","version"],"properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"mime_type":{"type":"string"},"extension":{"type":"string"},"version":{"type":"integer","format":"int64"}}},"FormatShort":{"type":"object","required":["id","name","mime_type","extension"],"properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"mime_type":{"type":"string"},"extension":{"type":"string"}}},"FoundDoc":{"oneOf":[{"type":"object","required":["Ebook"],"properties":{"Ebook":{"$ref":"#/components/schemas/EbookDoc"}}},{"type":"object","required":["Series"],"properties":{"Series":{"$ref":"#/components/schemas/SeriesShort"}}},{"type":"object","required":["Author"],"properties":{"Author":{"$ref":"#/components/schemas/AuthorShort"}}}]},"Genre":{"type":"object","required":["id","name","version"],"properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"version":{"type":"integer","format":"int64"}}},"GenreShort":{"type":"object","required":["id","name"],"properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"}}},"Language":{"type":"object","required":["id","name","code","version"],"properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"code":{"type":"string"},"version":{"type":"integer","format":"int64"}}},"LanguageShort":{"type":"object","required":["id","name","code"],"properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"code":{"type":"string"}}},"LoginCredentials":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string"},"password":{"type":"string"}}},"OperationTicket":{"type":"object","required":["id","created"],"properties":{"id":{"type":"string"},"created":{"type":"string","format":"date-time"}}},"Page_AuthorShort":{"type":"object","required":["page","page_size","total_pages","total","rows"],"properties":{"page":{"type":"integer","format":"int32","minimum":0},"page_size":{"type":"integer","format":"int32","minimum":0},"total_pages":{"type":"integer","format":"int32","minimum":0},"total":{"type":"integer","format":"int64","minimum":0},"rows":{"type":"array","items":{"type":"object","required":["id","last_name"],"properties":{"id":{"type":"integer","format":"int64"},"last_name":{"type":"string"},"first_name":{"type":["string","null"]}}}}}},"Page_ConversionShort":{"type":"object","required":["page","page_size","total_pages","total","rows"],"properties":{"page":{"type":"integer","format":"int32","minimum":0},"page_size":{"type":"integer","format":"int32","minimum":0},"total_pages":{"type":"integer","format":"int32","minimum":0},"total":{"type":"integer","format":"int64","minimum":0},"rows":{"type":"array","items":{"type":"object","required":["id","location","source_id","format_id"],"properties":{"id":{"type":"integer","format":"int64"},"location":{"type":"string"},"source_id":{"type":"integer","format":"int64"},"format_id":{"type":"integer","format":"int64"},"batch_id":{"type":["integer","null"],"format":"int64"}}}}}},"Page_EbookShort":{"type":"object","required":["page","page_size","total_pages","total","rows"],"properties":{"page":{"type":"integer","format":"int32","minimum":0},"page_size":{"type":"integer","format":"int32","minimum":0},"total_pages":{"type":"integer","format":"int32","minimum":0},"total":{"type":"integer","format":"int64","minimum":0},"rows":{"type":"array","items":{"type":"object","required":["id","title","has_cover","language"],"properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"has_cover":{"type":"boolean"},"series":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/SeriesShort"}]},"series_index":{"type":["integer","null"],"format":"int32","minimum":0},"language":{"$ref":"#/components/schemas/LanguageShort"},"authors":{"type":["array","null"],"items":{"$ref":"#/components/schemas/AuthorShort"}},"rating":{"type":["number","null"],"format":"float"}}}}}},"Page_FormatShort":{"type":"object","required":["page","page_size","total_pages","total","rows"],"properties":{"page":{"type":"integer","format":"int32","minimum":0},"page_size":{"type":"integer","format":"int32","minimum":0},"total_pages":{"type":"integer","format":"int32","minimum":0},"total":{"type":"integer","format":"int64","minimum":0},"rows":{"type":"array","items":{"type":"object","required":["id","name","mime_type","extension"],"properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"mime_type":{"type":"string"},"extension":{"type":"string"}}}}}},"Page_GenreShort":{"type":"object","required":["page","page_size","total_pages","total","rows"],"properties":{"page":{"type":"integer","format":"int32","minimum":0},"page_size":{"type":"integer","format":"int32","minimum":0},"total_pages":{"type":"integer","format":"int32","minimum":0},"total":{"type":"integer","format":"int64","minimum":0},"rows":{"type":"array","items":{"type":"object","required":["id","name"],"properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"}}}}}},"Page_LanguageShort":{"type":"object","required":["page","page_size","total_pages","total","rows"],"properties":{"page":{"type":"integer","format":"int32","minimum":0},"page_size":{"type":"integer","format":"int32","minimum":0},"total_pages":{"type":"integer","format":"int32","minimum":0},"total":{"type":"integer","format":"int64","minimum":0},"rows":{"type":"array","items":{"type":"object","required":["id","name","code"],"properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"code":{"type":"string"}}}}}},"Page_SeriesShort":{"type":"object","required":["page","page_size","total_pages","total","rows"],"properties":{"page":{"type":"integer","format":"int32","minimum":0},"page_size":{"type":"integer","format":"int32","minimum":0},"total_pages":{"type":"integer","format":"int32","minimum":0},"total":{"type":"integer","format":"int64","minimum":0},"rows":{"type":"array","items":{"type":"object","required":["id","title"],"properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"}}}}}},"Page_SourceShort":{"type":"object","required":["page","page_size","total_pages","total","rows"],"properties":{"page":{"type":"integer","format":"int32","minimum":0},"page_size":{"type":"integer","format":"int32","minimum":0},"total_pages":{"type":"integer","format":"int32","minimum":0},"total":{"type":"integer","format":"int64","minimum":0},"rows":{"type":"array","items":{"type":"object","required":["id","location","ebook_id","format_id","size","hash"],"properties":{"id":{"type":"integer","format":"int64"},"location":{"type":"string"},"ebook_id":{"type":"integer","format":"int64"},"format_id":{"type":"integer","format":"int64"},"size":{"type":"integer","format":"int64"},"hash":{"type":"string"},"quality":{"type":["number","null"],"format":"float"}}}}}},"RenameBody":{"type":"object","required":["from_path","to_path"],"properties":{"from_path":{"type":"string"},"to_path":{"type":"string"}}},"RenameResult":{"type":"object","required":["final_path"],"properties":{"final_path":{"type":"string"}}},"SearchItem":{"type":"object","required":["score","doc"],"properties":{"score":{"type":"number","format":"float"},"doc":{"$ref":"#/components/schemas/FoundDoc"}}},"Series":{"type":"object","required":["id","title","version","created","modified"],"properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":["string","null"]},"version":{"type":"integer","format":"int64"},"created_by":{"type":["string","null"]},"created":{"type":"string","format":"date-time"},"modified":{"type":"string","format":"date-time"}}},"SeriesMergeRequest":{"type":"object","required":["series_id"],"properties":{"series_id":{"type":"integer","format":"int64"}}},"SeriesShort":{"type":"object","required":["id","title"],"properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"}}},"Source":{"type":"object","required":["id","location","ebook_id","format_id","size","hash","version","created","modified"],"properties":{"id":{"type":"integer","format":"int64"},"location":{"type":"string"},"ebook_id":{"type":"integer","format":"int64"},"format_id":{"type":"integer","format":"int64"},"size":{"type":"integer","format":"int64"},"hash":{"type":"string"},"quality":{"type":["number","null"],"format":"float"},"version":{"type":"integer","format":"int64"},"created_by":{"type":["string","null"]},"created":{"type":"string","format":"date-time"},"modified":{"type":"string","format":"date-time"}}},"SourceShort":{"type":"object","required":["id","location","ebook_id","format_id","size","hash"],"properties":{"id":{"type":"integer","format":"int64"},"location":{"type":"string"},"ebook_id":{"type":"integer","format":"int64"},"format_id":{"type":"integer","format":"int64"},"size":{"type":"integer","format":"int64"},"hash":{"type":"string"},"quality":{"type":["number","null"],"format":"float"}}},"UpdateAuthor":{"type":"object","required":["id","last_name","version"],"properties":{"id":{"type":"integer","format":"int64"},"last_name":{"type":"string"},"first_name":{"type":["string","null"]},"description":{"type":["string","null"]},"version":{"type":"integer","format":"int64"}}},"UpdateEbook":{"type":"object","required":["id","title","language_id","version"],"properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":["string","null"]},"cover":{"type":["string","null"]},"series_id":{"type":["integer","null"],"format":"int64"},"series_index":{"type":["integer","null"],"format":"int32","minimum":0},"language_id":{"type":"integer","format":"int64"},"authors":{"type":["array","null"],"items":{"type":"integer","format":"int64"}},"genres":{"type":["array","null"],"items":{"type":"integer","format":"int64"}},"version":{"type":"integer","format":"int64"}}},"UpdateFormat":{"type":"object","required":["id","name","mime_type","extension","version"],"properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"mime_type":{"type":"string"},"extension":{"type":"string"},"version":{"type":"integer","format":"int64"}}},"UpdateGenre":{"type":"object","required":["id","name","version"],"properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"version":{"type":"integer","format":"int64"}}},"UpdateLanguage":{"type":"object","required":["id","name","code","version"],"properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"code":{"type":"string"},"version":{"type":"integer","format":"int64"}}},"UpdateSeries":{"type":"object","required":["id","title","version"],"properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":["string","null"]},"version":{"type":"integer","format":"int64"}}},"UpdateSource":{"type":"object","required":["id","location","ebook_id","format_id","size","hash","version"],"properties":{"id":{"type":"integer","format":"int64"},"location":{"type":"string"},"ebook_id":{"type":"integer","format":"int64"},"format_id":{"type":"integer","format":"int64"},"size":{"type":"integer","format":"int64"},"hash":{"type":"string"},"quality":{"type":["number","null"],"format":"float"},"version":{"type":"integer","format":"int64"}}},"UploadForm":{"type":"object","required":["file"],"properties":{"kind":{"oneOf":[{"type":"null"},{"$ref":"#/components/schemas/UploadKind"}]},"file":{"type":"string","format":"binary","contentMediaType":"application/octet-stream"}}},"UploadInfo":{"type":"object","required":["final_path","size","hash"],"properties":{"final_path":{"type":"string"},"size":{"type":"integer","format":"int64","minimum":0},"hash":{"type":"string","description":"SHA256 hash"},"original_name":{"type":["string","null"]}}},"UploadKind":{"type":"string","enum":["Ebook","Cover"]},"User":{"type":"object","required":["id","name","email"],"properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"email":{"type":"string"},"roles":{"type":["array","null"],"items":{"type":"string"}}}}},"securitySchemes":{"bearer":{"type":"http","scheme":"bearer"}}},"security":[{"bearer":[]}]}